# Помощники

- [Введение](#Введение)
- [Список функций](#Список-функций)
    - [config()](#config)
	- [cookie()](#cookie)
	- [session()](#session)
	- [redirect()](#redirect)
	- [refresh()](#refresh)
	- [abort()](#abort)
	- [inject()](#inject)
	- [dd()](#dd)
	- [ci()](#ci)
	- [model()](#model)
	- [library()](#library)
	- [redirect_url()](#redirect_url)

<a name="Введение"></a>

## Введение

Помощники - удобный набор функций которые вы можете использовать для упрощения кода вашего проекта. Если ранее, например, для переадресации вы использовали объект <a href="/docs/5.5/responses">HTTP заголовков</a> и метод `redirect()` для переадресации, то сейчас вы можете использовать одиночную функцию `redirect()`

<a name="Список функций"></a>

## Список функций

> Используется начиная с версии <a href="https://github.com/maksa988/MyUCP/releases/tag/v5.4.1">5.4.1</a>.

<a name="config"></a>

### config()

Функция для получения объекта `Config`:

```php
config()->url;
```

Подробнее об объекте `Config` можно прочитать в разделе <a href="/docs/5.5/configs">Configs</a>

<a name="cookie"></a>

### cookie()

Функция для получения объекта `Cookie`:

```phpcookie("token")
```

Подробнее об объекте `Cookie` можно прочитать в разделе <a href="/docs/5.5/requests">Requests</a>

<a name="session"></a>

### ssession()

Функция для получения значения сессии:

```php
session("user_id")
```

Если в качестве второго аргумента указать какое то значение, то оно будет заданно для текущей сессии или будет создано.

```php 
session("user_login", "elon")
```

<a name="lang"></a>

### lang()

Это которткий способ вызова метода `Lang::get`

```php
lang("profile/settings.login")
```

Подробнее об объекте <code>Lang</code> можно прочитать в разделе <a href="/docs/5.5/localization">Локализация</a>

<a name="redirect"></a>

### redirect()

Удобная функция для совершения переадресаций на желаемый вами адрес. В качестве аргумента просто укажите адрес:

```php
redirect('/login');
```

Вы так же можете передать, в качестве аргумента, метод `route()`, указав в качестве его метода название одного из маршрутов, функция осуществит переадресация по указанному вами маршруту.

```php
redirect(route('user.login'));
```

<a name="refresh"></a>

### refresh()

Функция для того что произвести обновление страницы, очень удобно после использования POST запроса для предотвращения повторной отправки формы.

<a name="abort"></a>

### abort()

Функция необходима для вызова HTTP ошибки, в качестве первого аргумента принимает код ошибки, а в качестве второго аргумента принимает сообщение ошибки (не обязательно).

```php
abort(404, "Страница не найдена");
abort(404);
```

<a name="inject"></a>

### inject()

Функция которая позволяет подключать любой класс в вашем контроллере, моделе. В качестве первого аргумента укажите переменную в которую будет помещен объект класса, в качестве второй укажите название класса. Предварительно необходимо прописать путь к загрузке класса в файле `configs/autoload_classes.php`.

```php
inject('test', 'Test');

$this->test; //Объект класса
```

> Обратите внимание при загрузке класса в качестве параметра ему будет передан объект `registry` который содержит в себе все методы фреймворка.

<a name="dd"></a>

### dd()

Функция для отображения данных массива, объекта. Выводит в удобном виде дерева на страницу. В качестве первого параметра вы указываете ваш массив или объект для просмотра, в качестве второго параметра вы можете указать завершать ли работу фреймворка после отображения дерева (указав значение <em>true</em>) или продолжить работу после вывода (указав значение <em>false</em>). По умолчанию в качестве второго параметра установлено значение <em>true</em>.

```php
$array = ['hello', 'world'];
dd($array);
```

Результат примера выше будет такой:

```php
array(2) {
  [0]=>
  string(5) 'hello'
  [1]=>
  string(5) 'world'
}
```

<a name="ci"></a>

### ci()

Отчасти функция схожа с функцией `dd()`, но только данная функция выводит на страницу все доступные методы указанного вами класса.

<a name="model"></a>

### model()

Функция позволяет загрузить модель и работать с ней в контроллере. Подробнее о моделях <a href="/docs/5.5/model">тут</a>.

<a name="library"></a>

### library()

Функция позволяет подгрузить блиблиотеку которая находиться в директории `engine/lib` и работать с ней. Подробнее о библиотеках <a href="/docs/5.5/libraries">тут</a>.

<a name="redirect_url"></a>

### redirect_url()

Функция предназначена для формирования URL опеределенного маршрута который указан первым аргументом, в качестве второго аргуммента принимает массив данных с заменой аргументов маршрута.

```php
redirect_url("user.profile", ["id" => 5]);
```