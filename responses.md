# Ответ (Response)

- [Основы](#Основы)
- [Редиректы](#Редиректы)

<a name="Основы"></a>
## Основы

HTTP-Response - это ответ фреймворка, который отдается клиенту (обычно это браузер), от которого пришел HTTP-запрос.
Наиболее простой способ создать HTTP-ответ - это возвратить строку в роуте или контроллере.

#### Response в виде возврата строки из роута:
```php
Router::get('/', function()
{
    return 'Hello world';
});
```
#### Создание своих ответов
Однако чаще в контроллерах вы возвращаете объект `Response` или <a href="/docs/5.5/views">шаблон</a>. Возврат объекта `Response` позволяет изменить HTTP-код и заголовки ответа.
```php
$this->response->addHeader("Content-Type: application/javascript");
```
В примере выше мы добавили заголовок к нашему ответу, таким образом мы можем добавить сколько угодно заголовков которые будете отправлены в ответ при выводе всей страницы.

<a name="Редиректы"></a>
## Редиректы

Редирект - это экземпляр класса `Redirect`, вызывается при помощи функции-помощника `redirect()`.
#### Возвращение редиректа
Есть несколько способов совершить редирект. Самый простой - воспользоваться хэлпером `redirect`. 
```php
return redirect('user/login');
```

#### Возвращение редиректа с flash-данными в сессии
Редирект с <a href="/docs/5.5/session">flash-данными в сессии</a> - типичная задача в случае, когда после POST-запроса надо перейти на страницу с формой и показать ошибки валидации. Записать flash-данные в сессию можно при помощи метода `with()`:

```php
return redirect('user/login')->with('message', 'Login Failed');
```

#### Редирект на именованный роут
В качестве аргумента хэлпера мы можем передать объект с роутом, воспользовавшись еще одним хэлепром `route()`, в качестве аргумента которого стоит указать имя роута:
```php
return redirect(route('login'));
```

Та же ситуация что с переадрессацией роутов, вы можете вторым аргументом указать параметры для правила роута:

```php
return redirect(route('profile'), ["id" => 1]);
```

#### Обновление страницы
Иногда после совершения неких действий пользователем (например отправлением `POST` запроса, вам необходимо предотвратить повторное отправление формы, вы можете использовать ещё один хэлпер который работает на основе `redirect()` и производит обновление страницы:
```php
return refresh();
```