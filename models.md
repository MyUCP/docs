# Модели

- [Введение](#Введение)
- [Создание моделей](#Создание-моделей)
- [Подключение моделей](#Подключение-моделей)
- [Работа с данными](#Работа-с-данными)

<a name="Введение"></a>
## Введение

В структуре MVC модели служат для того что бы выполнять определенные операции и отдавать для контроллера результат. Вы можете создавать свои модели со своим набором функций.

<a name="Создание-моделей"></a>
## Создание моделей

Модель в **MyUCP** это класс который имеет набор список функций которые вы опишите и которые вы сможете использовать в контроллере.

Для создания модели необходимо создать файл в папке `/app/models/`. Название файла должно совпадать с названием вашей будущей модели. Для примера мы будем создавать модель под названием `pages`.

После создания файла в нем необходимо создать класс в котором будут наши функции:

```php
 class pagesModel extends Model {
	//Ваши методы
}
```

Как видим до нашего названия необходимо добавить слово **Models** что бы убрать возможность совпадения в названиях классов. Так же наш класс модели необходимо расширить основным классом Model что бы получить доступ до всех объектов.

После чего вы в классе сможете создавать нужные вам функции.

<a name="Подключение-моделей"></a>
## Подключение моделей

Для подключения нужной вам модели вы можете использовать помощник `model()`, параметр функции принимает название модели без слова **Model** которое содерживаться в названии модели. Так же вы можете указать сколько угодно параметров с названиями моделей, они все будут подключены постепенно.

```php
model('pages')
```

Результатом примера будет подключена модель `pages`, после подключения модели вы можете использовать все её функции, для того что бы использовать одну из функций модели нам необходимо обратиться к модели и вызвать нужную нам функцию.

Пример:
```php
$page = $this->pagesModel->getPage($id)
```

<a name="Работа-с-данными"></a>
## Работа с данными

Для использования функций вам следует всего лишь подключить модель в вашем контроллере, Вы так же можете использовать функции внутри модели.

Так же для работы новых функций необходимо привязать таблицу к модели с которой вы далее будете работать. Для этого необходимо указать в качестве свойства `$table` которое должно быть публичным (`public`) название вашей таблицы, например:

```php
public $table = "users"
```

> Начиная с версии <a href="https://github.com/maksa988/MyUCP/releases/tag/v5.3.1">5.3.1</a> свойство `$table` должно быть публичным (`public`)

После подключени модели вы можете обратиться к одной из функций как ранее, например:

```php
$this->create($data); // Внутри одного из методов модели
```

> Обратите внимание, не смотря на то что в конструкторе запросов присутствует метод `insert()` который идентичен данному методу, он не доступен при работе с моделями, его заменяет метод `create()`.

> Начиная с версии <a href="https://github.com/maksa988/MyUCP/releases/tag/v5.3.1">5.3.1</a> были добавлены новые функции для работы с базой данных которые работают так же и при работе с моделями. Подробнее <a href="/docs/5.4/builder">тут</a>.
